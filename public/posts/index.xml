<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on My Blog</title><link>https://goiw111.github.io/posts/</link><description>Recent content in Posts on My Blog</description><generator>Hugo -- gohugo.io</generator><language>en</language><copyright>Copyright © 2025–2025</copyright><lastBuildDate>Sun, 13 Apr 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://goiw111.github.io/posts/index.xml" rel="self" type="application/rss+xml"/><item><title>Core Balance Current Transformer (CBCT): A Comprehensive Overview</title><link>https://goiw111.github.io/posts/n_3/</link><pubDate>Sun, 13 Apr 2025 00:00:00 +0000</pubDate><guid>https://goiw111.github.io/posts/n_3/</guid><description>&lt;h3 id="introduction">&lt;strong>Introduction&lt;/strong>&lt;/h3>
&lt;p>In electrical power systems, ensuring safety and reliability is critical, especially when dealing with high-voltage and three-phase configurations. A &lt;strong>Core Balance Current Transformer (CBCT)&lt;/strong>, also known as a &lt;strong>Zero Sequence Current Transformer (ZCT)&lt;/strong>, plays a pivotal role in protecting these systems from faults such as earth leakage, ground faults, and imbalances. This article delves into the principles, design, operation, applications, and advantages of CBCTs, providing a technical yet accessible understanding of this essential device.&lt;/p>
&lt;p>&lt;img src="https://goiw111.github.io/images/product-jpeg-500x500.webp" alt="product-jpeg-500x500">&lt;/p>
&lt;h3 id="what-is-a-core-balance-current-transformer-cbct">&lt;strong>What is a Core Balance Current Transformer (CBCT)?&lt;/strong>&lt;/h3>
&lt;p>A CBCT is a specialized current transformer designed to detect &lt;strong>zero-sequence currents&lt;/strong>, currents that arise when the sum of the three-phase currents in a balanced system deviates from zero. Unlike conventional current transformers, which measure individual phase currents, a CBCT focuses on the &lt;strong>algebraic sum&lt;/strong> of currents to identify faults.&lt;/p>
&lt;p>&lt;strong>Key Features:&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Design&lt;/strong>: A ring-shaped toroidal core with a secondary winding, through which all live conductors (e.g., three-phase lines) pass.&lt;/li>
&lt;li>&lt;strong>Function&lt;/strong>: Acts as a fault detector by monitoring the imbalance in phase currents.&lt;/li>
&lt;li>&lt;strong>Output&lt;/strong>: Generates a signal proportional to the residual current, which activates protective relays to trip circuit breakers during faults.&lt;/li>
&lt;/ul>
&lt;h3 id="working-principle-of-cbct">&lt;strong>Working Principle of CBCT&lt;/strong>&lt;/h3>
&lt;h4 id="1-balanced-system-operation">&lt;strong>1. Balanced System Operation&lt;/strong>&lt;/h4>
&lt;p>In a &lt;strong>balanced three-phase system&lt;/strong>, the currents in all three phases ($I_a$, $I_b$, $I_c$) satisfy &lt;strong>Kirchhoff’s Current Law (KCL)&lt;/strong>:&lt;br>
$$I_a + I_b + I_c = 0$$
Under normal conditions, the magnetic fields generated by each phase’s current &lt;strong>cancel out&lt;/strong> due to their opposite directions. This results in &lt;strong>zero net magnetic flux&lt;/strong> in the CBCT’s core.&lt;/p>
&lt;p>&lt;strong>Gauss’s Law for Magnetism&lt;/strong> reinforces this:&lt;br>
$$\nabla \cdot \mathbf{B} = 0$$&lt;br>
This law states that magnetic field lines form closed loops, so the flux enclosed within the core must balance out when currents are balanced. Consequently, no voltage is induced in the secondary winding, and the CBCT remains inactive.&lt;/p>
&lt;h4 id="2-fault-detection-via-ampères-law">&lt;strong>2. Fault Detection via Ampère’s Law&lt;/strong>&lt;/h4>
&lt;p>During a &lt;strong>ground fault&lt;/strong> or &lt;strong>earth leakage&lt;/strong>, the symmetry of the three-phase system breaks. For instance, if a fault current ($I_f$) flows to ground from one phase:&lt;br>
$$I_a&amp;rsquo; + I_b + I_c = I_f \quad (\text{where } I_a&amp;rsquo; = I_a + I_f)$$&lt;br>
Applying &lt;strong>Ampère’s Circuital Law&lt;/strong>:&lt;br>
$$\oint \mathbf{B} \cdot d\mathbf{l} = \mu_0 I_{\text{enc}}$$&lt;br>
Here, $I_{\text{enc}} = I_f$, the fault current. The unbalanced current generates a &lt;strong>net magnetic flux&lt;/strong> ($\Phi$) in the core, proportional to $I_f$:&lt;br>
$$\Phi \propto I_f$$&lt;br>
This flux induces an electromotive force (EMF) in the secondary winding via &lt;strong>Faraday’s Law&lt;/strong>:&lt;br>
$$V_s = -N \frac{d\Phi}{dt}$$&lt;br>
where $N$ is the number of secondary turns. The induced voltage drives a current through the connected relay, triggering a circuit breaker to isolate the fault.&lt;/p>
&lt;h4 id="zero-sequence-current-concept">&lt;strong>Zero-Sequence Current Concept&lt;/strong>&lt;/h4>
&lt;p>The &lt;strong>zero-sequence current&lt;/strong> ($I_0$) is defined as:&lt;br>
$$I_0 = \frac{I_a + I_b + I_c}{3}$$&lt;br>
In a balanced system, $I_0 = 0$. During a fault, $I_0$ equals the fault current divided by 3. The CBCT’s primary winding effectively measures this $I_0$, making it sensitive to ground faults even at low current levels.&lt;/p>
&lt;h3 id="design-and-construction-of-cbct">&lt;strong>Design and Construction of CBCT&lt;/strong>&lt;/h3>
&lt;h4 id="core-material">&lt;strong>Core Material&lt;/strong>&lt;/h4>
&lt;ul>
&lt;li>&lt;strong>Toroidal Core&lt;/strong>: Typically made of ferrite or silicon steel to minimize energy loss and maximize flux linkage.&lt;/li>
&lt;li>&lt;strong>Secondary Winding&lt;/strong>: A multi-turn coil wound on the core, connected to a protective relay or monitoring device.&lt;/li>
&lt;/ul>
&lt;h4 id="installation">&lt;strong>Installation&lt;/strong>&lt;/h4>
&lt;ul>
&lt;li>&lt;strong>Non-Invasive&lt;/strong>: Conductors pass through the core’s central aperture without breaking the circuit.&lt;/li>
&lt;li>&lt;strong>Versatility&lt;/strong>: Can accommodate single-core or multi-core cables, though size limitations exist for large conductors.&lt;/li>
&lt;/ul>
&lt;h3 id="applications-of-cbct">&lt;strong>Applications of CBCT&lt;/strong>&lt;/h3>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>Power Distribution Systems&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Protects transformers, switchgear, and transmission lines from ground faults.&lt;/li>
&lt;li>Detects leakage currents in residential and industrial networks.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Motor Protection&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Monitors large motors and generators for winding insulation failures or ground faults.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Renewable Energy Systems&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Ensures safety in solar inverters and wind turbines by detecting ground faults in PV arrays or generator circuits.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Industrial Automation&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Used in PLC systems to safeguard machinery from phase imbalances or earth faults.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Residential Safety&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Incorporated into residual current devices (RCDs) to prevent electrocution and fires.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h3 id="advantages-of-cbct">&lt;strong>Advantages of CBCT&lt;/strong>&lt;/h3>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>High Sensitivity&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Detects fault currents as low as &lt;strong>100 mA&lt;/strong>, ensuring rapid fault isolation.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Simplified Design&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Requires only a single core instead of three separate current transformers, reducing complexity.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Non-Invasive Installation&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Easy to install without interrupting power flow; simply clamped around conductors.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Cost-Effective&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Lower material and labor costs compared to multi-CT setups.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Reliability&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Operates over a wide range of frequencies and currents, maintaining accuracy under varying conditions.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h3 id="limitations-of-cbct">&lt;strong>Limitations of CBCT&lt;/strong>&lt;/h3>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>AC Only&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Cannot measure direct current (DC), limiting use in DC systems like battery banks.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Conductor Size Constraints&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Large conductors may exceed the core’s internal diameter, necessitating custom solutions.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Multiple Conductors&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Less effective when multiple cables pass through the core, as mutual inductance can distort readings.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Calibration Requirements&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>Must be matched to the system’s nominal current to avoid false tripping.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h3 id="conclusion">&lt;strong>Conclusion&lt;/strong>&lt;/h3>
&lt;p>The Core Balance Current Transformer is a cornerstone of modern electrical protection systems. By leveraging fundamental electromagnetic principles, Gauss’s and Ampère’s laws, it provides reliable detection of ground faults and imbalances, safeguarding lives and equipment. While it has limitations, such as AC-only operation and size constraints, its benefits in cost, simplicity, and sensitivity make it indispensable across industries. For engineers and technicians, understanding CBCT’s operation and applications is critical to designing robust, fault-tolerant power systems.&lt;/p></description></item><item><title>Building a Musical Synthesizer with FPGA and VHDL: A Step-by-Step Guide</title><link>https://goiw111.github.io/posts/n_2/</link><pubDate>Sat, 29 Mar 2025 00:00:00 +0000</pubDate><guid>https://goiw111.github.io/posts/n_2/</guid><description>&lt;p>&lt;img src="https://goiw111.github.io/images/N_2_5.jpg" alt="N_2_5">&lt;/p>
&lt;h2 id="introduction">Introduction&lt;/h2>
&lt;p>This project wasn’t just about making music with hardware – it was a &lt;strong>hardware detective story&lt;/strong>. Armed with an ancient Chinese FPGA board and zero documentation, I accepted the challenge to breathe life into forgotten technology. Here’s how I turned frustration into a functional synthesizer!&lt;/p>
&lt;h2 id="overcoming-buzzer-limitations">Overcoming Buzzer Limitations&lt;/h2>
&lt;p>One of the first problems I encountered was that the passive buzzer couldn&amp;rsquo;t properly reproduce middle C (C4, 262Hz) and lower notes. When attempting to play the classic &amp;ldquo;Do Re Mi&amp;rdquo; scale starting from C4, the buzzer produced weak, distorted sounds with noticeable clicking artifacts rather than clear musical tones.&lt;/p>
&lt;h3 id="why-standard-frequencies-failed">Why Standard Frequencies Failed&lt;/h3>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>Physical Constraints of Piezo Buzzers&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>Passive buzzers rely on mechanical vibration, which dampens significantly at lower frequencies&lt;/li>
&lt;li>The buzzer&amp;rsquo;s resonant frequency was much higher than middle C, causing poor energy transfer&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Square Wave Limitations&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>Low-frequency square waves (below ~400Hz) created audible &amp;ldquo;clicks&amp;rdquo; between pulses&lt;/li>
&lt;li>The buzzer&amp;rsquo;s physical response time couldn&amp;rsquo;t keep up with slow oscillations&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;h3 id="the-high-frequency-workaround">The High-Frequency Workaround&lt;/h3>
&lt;p>By shifting the musical scale up one octave to C5–C6 (523–1047 Hz), we achieved:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>Stronger Acoustic Output&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>Piezo elements resonate more efficiently at these frequencies&lt;/li>
&lt;li>Audible volume increased by approximately 300% compared to middle C attempts&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Cleaner Waveform Reproduction&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>Eliminated the clicking artifacts of low-frequency operation&lt;/li>
&lt;li>Produced recognizable musical tones instead of distorted pulses&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Technical Advantages&lt;/strong>:&lt;/p>
&lt;ul>
&lt;li>Smaller counter values fit perfectly in our 13-bit registers&lt;/li>
&lt;li>Reduced timing errors from FPGA clock division&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>This frequency shift became the foundation for all subsequent sound generation in the project, proving that sometimes the solution isn&amp;rsquo;t to fight hardware limitations, but to redesign around them. The resulting tones, while higher-pitched than originally intended, maintained clear musical relationships and demonstrated the FPGA&amp;rsquo;s sound generation capabilities.&lt;/p>
&lt;h2 id="step-1-how-digital-music-works">&lt;strong>Step 1: How Digital Music Works&lt;/strong>&lt;/h2>
&lt;h3 id="square-waves--sound">&lt;strong>Square Waves = Sound&lt;/strong>&lt;/h3>
&lt;p>A &lt;strong>square wave&lt;/strong> is the foundation of digital sound generation. By toggling an FPGA pin between HIGH (3.3V) and LOW (0V) at precise intervals, we create a waveform that a passive buzzer converts into audible sound through mechanical vibration.&lt;/p>
&lt;h3 id="frequency-formula">&lt;strong>Frequency Formula&lt;/strong>&lt;/h3>
&lt;p>$$ f_n = \tfrac { f_c } {N.2}​​ $$&lt;/p>
&lt;ul>
&lt;li>$f_c​$ : Clock speed after prescaling (5 MHz here).&lt;/li>
&lt;li>$N$ : Counter value defining the note’s period.&lt;/li>
&lt;/ul>
&lt;h2 id="step-2-vhdl-code-walkthrough">&lt;strong>Step 2: VHDL Code Walkthrough&lt;/strong>&lt;/h2>
&lt;h3 id="complete-code-structure">&lt;strong>Complete Code Structure&lt;/strong>&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-VHDL" data-lang="VHDL">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a8c8">library&lt;/span> &lt;span style="color:#111">IEEE&lt;/span>&lt;span style="color:#111">;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a8c8">use&lt;/span> &lt;span style="color:#111">IEEE.STD_LOGIC_1164.&lt;/span>&lt;span style="color:#00a8c8">ALL&lt;/span>&lt;span style="color:#111">;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a8c8">use&lt;/span> &lt;span style="color:#111">IEEE.NUMERIC_STD.&lt;/span>&lt;span style="color:#00a8c8">ALL&lt;/span>&lt;span style="color:#111">;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a8c8">entity&lt;/span> &lt;span style="color:#75af00">buzzer&lt;/span> &lt;span style="color:#00a8c8">is&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">Port&lt;/span> &lt;span style="color:#111">(&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#111">clk&lt;/span> &lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#00a8c8">in&lt;/span> &lt;span style="color:#00a8c8">STD_LOGIC&lt;/span>&lt;span style="color:#111">;&lt;/span> &lt;span style="color:#75715e">-- 50 MHz clock&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#111">rst&lt;/span> &lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#00a8c8">in&lt;/span> &lt;span style="color:#00a8c8">STD_LOGIC&lt;/span>&lt;span style="color:#111">;&lt;/span> &lt;span style="color:#75715e">-- Active-low reset&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#111">out_bit&lt;/span> &lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#00a8c8">out&lt;/span> &lt;span style="color:#00a8c8">STD_LOGIC&lt;/span> &lt;span style="color:#75715e">-- Buzzer output&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#111">);&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a8c8">end&lt;/span> &lt;span style="color:#75af00">buzzer&lt;/span>&lt;span style="color:#111">;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a8c8">architecture&lt;/span> &lt;span style="color:#75af00">Behavioral&lt;/span> &lt;span style="color:#00a8c8">of&lt;/span> &lt;span style="color:#75af00">buzzer&lt;/span> &lt;span style="color:#00a8c8">is&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">-- Clock divider (50 MHz -&amp;gt; 5 MHz)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">signal&lt;/span> &lt;span style="color:#111">clk_div1&lt;/span> &lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#00a8c8">unsigned&lt;/span>&lt;span style="color:#111">(&lt;/span>&lt;span style="color:#ae81ff">3&lt;/span> &lt;span style="color:#00a8c8">downto&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>&lt;span style="color:#111">)&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#111">(&lt;/span>&lt;span style="color:#00a8c8">others&lt;/span> &lt;span style="color:#f92672">=&amp;gt;&lt;/span> &lt;span style="color:#d88200">&amp;#39;0&amp;#39;&lt;/span>&lt;span style="color:#111">);&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">-- Note frequency counter&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">signal&lt;/span> &lt;span style="color:#111">clk_div2&lt;/span> &lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#00a8c8">unsigned&lt;/span>&lt;span style="color:#111">(&lt;/span>&lt;span style="color:#ae81ff">12&lt;/span> &lt;span style="color:#00a8c8">downto&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>&lt;span style="color:#111">)&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#111">(&lt;/span>&lt;span style="color:#00a8c8">others&lt;/span> &lt;span style="color:#f92672">=&amp;gt;&lt;/span> &lt;span style="color:#d88200">&amp;#39;0&amp;#39;&lt;/span>&lt;span style="color:#111">);&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">-- Note duration counter (~3 seconds per note)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">signal&lt;/span> &lt;span style="color:#111">cnt&lt;/span> &lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#00a8c8">unsigned&lt;/span>&lt;span style="color:#111">(&lt;/span>&lt;span style="color:#ae81ff">23&lt;/span> &lt;span style="color:#00a8c8">downto&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>&lt;span style="color:#111">)&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#111">(&lt;/span>&lt;span style="color:#00a8c8">others&lt;/span> &lt;span style="color:#f92672">=&amp;gt;&lt;/span> &lt;span style="color:#d88200">&amp;#39;0&amp;#39;&lt;/span>&lt;span style="color:#111">);&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">-- State machine (8 notes)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">signal&lt;/span> &lt;span style="color:#111">state&lt;/span> &lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#00a8c8">unsigned&lt;/span>&lt;span style="color:#111">(&lt;/span>&lt;span style="color:#ae81ff">2&lt;/span> &lt;span style="color:#00a8c8">downto&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>&lt;span style="color:#111">)&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#111">(&lt;/span>&lt;span style="color:#00a8c8">others&lt;/span> &lt;span style="color:#f92672">=&amp;gt;&lt;/span> &lt;span style="color:#d88200">&amp;#39;0&amp;#39;&lt;/span>&lt;span style="color:#111">);&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">-- Musical note constants (C5 to C6)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">constant&lt;/span> &lt;span style="color:#111">C5&lt;/span> &lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#00a8c8">integer&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#ae81ff">4780&lt;/span>&lt;span style="color:#111">;&lt;/span> &lt;span style="color:#75715e">-- 523 Hz&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">constant&lt;/span> &lt;span style="color:#111">D5&lt;/span> &lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#00a8c8">integer&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#ae81ff">4259&lt;/span>&lt;span style="color:#111">;&lt;/span> &lt;span style="color:#75715e">-- 587 Hz&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">constant&lt;/span> &lt;span style="color:#111">E5&lt;/span> &lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#00a8c8">integer&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#ae81ff">3792&lt;/span>&lt;span style="color:#111">;&lt;/span> &lt;span style="color:#75715e">-- 659 Hz&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">constant&lt;/span> &lt;span style="color:#111">F5&lt;/span> &lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#00a8c8">integer&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#ae81ff">3580&lt;/span>&lt;span style="color:#111">;&lt;/span> &lt;span style="color:#75715e">-- 698 Hz&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">constant&lt;/span> &lt;span style="color:#111">G5&lt;/span> &lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#00a8c8">integer&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#ae81ff">3189&lt;/span>&lt;span style="color:#111">;&lt;/span> &lt;span style="color:#75715e">-- 784 Hz&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">constant&lt;/span> &lt;span style="color:#111">A5&lt;/span> &lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#00a8c8">integer&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#ae81ff">2841&lt;/span>&lt;span style="color:#111">;&lt;/span> &lt;span style="color:#75715e">-- 880 Hz&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">constant&lt;/span> &lt;span style="color:#111">B5&lt;/span> &lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#00a8c8">integer&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#ae81ff">2532&lt;/span>&lt;span style="color:#111">;&lt;/span> &lt;span style="color:#75715e">-- 988 Hz&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">constant&lt;/span> &lt;span style="color:#111">C6&lt;/span> &lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#00a8c8">integer&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#ae81ff">2389&lt;/span>&lt;span style="color:#111">;&lt;/span> &lt;span style="color:#75715e">-- 1047 Hz&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">signal&lt;/span> &lt;span style="color:#111">current_note&lt;/span> &lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#00a8c8">integer&lt;/span> &lt;span style="color:#00a8c8">range&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span> &lt;span style="color:#00a8c8">to&lt;/span> &lt;span style="color:#ae81ff">8191&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#111">C5&lt;/span>&lt;span style="color:#111">;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">signal&lt;/span> &lt;span style="color:#111">out_bit_tmp&lt;/span> &lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#00a8c8">std_logic&lt;/span> &lt;span style="color:#f92672">:=&lt;/span> &lt;span style="color:#d88200">&amp;#39;0&amp;#39;&lt;/span>&lt;span style="color:#111">;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a8c8">begin&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#111">out_bit&lt;/span> &lt;span style="color:#f92672">&amp;lt;=&lt;/span> &lt;span style="color:#111">out_bit_tmp&lt;/span>&lt;span style="color:#111">;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">process&lt;/span>&lt;span style="color:#111">(&lt;/span>&lt;span style="color:#111">clk&lt;/span>&lt;span style="color:#111">,&lt;/span> &lt;span style="color:#111">rst&lt;/span>&lt;span style="color:#111">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">begin&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">if&lt;/span> &lt;span style="color:#111">rst&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#d88200">&amp;#39;0&amp;#39;&lt;/span> &lt;span style="color:#00a8c8">then&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">-- Reset all counters and outputs&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#111">clk_div1&lt;/span> &lt;span style="color:#f92672">&amp;lt;=&lt;/span> &lt;span style="color:#111">(&lt;/span>&lt;span style="color:#00a8c8">others&lt;/span> &lt;span style="color:#f92672">=&amp;gt;&lt;/span> &lt;span style="color:#d88200">&amp;#39;0&amp;#39;&lt;/span>&lt;span style="color:#111">);&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#111">clk_div2&lt;/span> &lt;span style="color:#f92672">&amp;lt;=&lt;/span> &lt;span style="color:#111">(&lt;/span>&lt;span style="color:#00a8c8">others&lt;/span> &lt;span style="color:#f92672">=&amp;gt;&lt;/span> &lt;span style="color:#d88200">&amp;#39;0&amp;#39;&lt;/span>&lt;span style="color:#111">);&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#111">cnt&lt;/span> &lt;span style="color:#f92672">&amp;lt;=&lt;/span> &lt;span style="color:#111">(&lt;/span>&lt;span style="color:#00a8c8">others&lt;/span> &lt;span style="color:#f92672">=&amp;gt;&lt;/span> &lt;span style="color:#d88200">&amp;#39;0&amp;#39;&lt;/span>&lt;span style="color:#111">);&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#111">state&lt;/span> &lt;span style="color:#f92672">&amp;lt;=&lt;/span> &lt;span style="color:#111">(&lt;/span>&lt;span style="color:#00a8c8">others&lt;/span> &lt;span style="color:#f92672">=&amp;gt;&lt;/span> &lt;span style="color:#d88200">&amp;#39;0&amp;#39;&lt;/span>&lt;span style="color:#111">);&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#111">out_bit_tmp&lt;/span> &lt;span style="color:#f92672">&amp;lt;=&lt;/span> &lt;span style="color:#d88200">&amp;#39;0&amp;#39;&lt;/span>&lt;span style="color:#111">;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">elsif&lt;/span> &lt;span style="color:#111">rising_edge&lt;/span>&lt;span style="color:#111">(&lt;/span>&lt;span style="color:#111">clk&lt;/span>&lt;span style="color:#111">)&lt;/span> &lt;span style="color:#00a8c8">then&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">-- Clock prescaler (divide by 10)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">if&lt;/span> &lt;span style="color:#111">clk_div1&lt;/span> &lt;span style="color:#f92672">&amp;lt;&lt;/span> &lt;span style="color:#ae81ff">9&lt;/span> &lt;span style="color:#00a8c8">then&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#111">clk_div1&lt;/span> &lt;span style="color:#f92672">&amp;lt;=&lt;/span> &lt;span style="color:#111">clk_div1&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>&lt;span style="color:#111">;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">else&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#111">clk_div1&lt;/span> &lt;span style="color:#f92672">&amp;lt;=&lt;/span> &lt;span style="color:#111">(&lt;/span>&lt;span style="color:#00a8c8">others&lt;/span> &lt;span style="color:#f92672">=&amp;gt;&lt;/span> &lt;span style="color:#d88200">&amp;#39;0&amp;#39;&lt;/span>&lt;span style="color:#111">);&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">-- State machine for note generation&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">case&lt;/span> &lt;span style="color:#111">state&lt;/span> &lt;span style="color:#00a8c8">is&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">when&lt;/span> &lt;span style="color:#d88200">&amp;#34;000&amp;#34;&lt;/span> &lt;span style="color:#f92672">=&amp;gt;&lt;/span> &lt;span style="color:#111">current_note&lt;/span> &lt;span style="color:#f92672">&amp;lt;=&lt;/span> &lt;span style="color:#111">C5&lt;/span>&lt;span style="color:#111">;&lt;/span> &lt;span style="color:#75715e">-- Do&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">when&lt;/span> &lt;span style="color:#d88200">&amp;#34;001&amp;#34;&lt;/span> &lt;span style="color:#f92672">=&amp;gt;&lt;/span> &lt;span style="color:#111">current_note&lt;/span> &lt;span style="color:#f92672">&amp;lt;=&lt;/span> &lt;span style="color:#111">D5&lt;/span>&lt;span style="color:#111">;&lt;/span> &lt;span style="color:#75715e">-- Re&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">when&lt;/span> &lt;span style="color:#d88200">&amp;#34;010&amp;#34;&lt;/span> &lt;span style="color:#f92672">=&amp;gt;&lt;/span> &lt;span style="color:#111">current_note&lt;/span> &lt;span style="color:#f92672">&amp;lt;=&lt;/span> &lt;span style="color:#111">E5&lt;/span>&lt;span style="color:#111">;&lt;/span> &lt;span style="color:#75715e">-- Mi&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">when&lt;/span> &lt;span style="color:#d88200">&amp;#34;011&amp;#34;&lt;/span> &lt;span style="color:#f92672">=&amp;gt;&lt;/span> &lt;span style="color:#111">current_note&lt;/span> &lt;span style="color:#f92672">&amp;lt;=&lt;/span> &lt;span style="color:#111">F5&lt;/span>&lt;span style="color:#111">;&lt;/span> &lt;span style="color:#75715e">-- Fa&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">when&lt;/span> &lt;span style="color:#d88200">&amp;#34;100&amp;#34;&lt;/span> &lt;span style="color:#f92672">=&amp;gt;&lt;/span> &lt;span style="color:#111">current_note&lt;/span> &lt;span style="color:#f92672">&amp;lt;=&lt;/span> &lt;span style="color:#111">G5&lt;/span>&lt;span style="color:#111">;&lt;/span> &lt;span style="color:#75715e">-- Sol&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">when&lt;/span> &lt;span style="color:#d88200">&amp;#34;101&amp;#34;&lt;/span> &lt;span style="color:#f92672">=&amp;gt;&lt;/span> &lt;span style="color:#111">current_note&lt;/span> &lt;span style="color:#f92672">&amp;lt;=&lt;/span> &lt;span style="color:#111">A5&lt;/span>&lt;span style="color:#111">;&lt;/span> &lt;span style="color:#75715e">-- La&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">when&lt;/span> &lt;span style="color:#d88200">&amp;#34;110&amp;#34;&lt;/span> &lt;span style="color:#f92672">=&amp;gt;&lt;/span> &lt;span style="color:#111">current_note&lt;/span> &lt;span style="color:#f92672">&amp;lt;=&lt;/span> &lt;span style="color:#111">B5&lt;/span>&lt;span style="color:#111">;&lt;/span> &lt;span style="color:#75715e">-- Si&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">when&lt;/span> &lt;span style="color:#d88200">&amp;#34;111&amp;#34;&lt;/span> &lt;span style="color:#f92672">=&amp;gt;&lt;/span> &lt;span style="color:#111">current_note&lt;/span> &lt;span style="color:#f92672">&amp;lt;=&lt;/span> &lt;span style="color:#111">C6&lt;/span>&lt;span style="color:#111">;&lt;/span> &lt;span style="color:#75715e">-- Do-high&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">when&lt;/span> &lt;span style="color:#00a8c8">others&lt;/span> &lt;span style="color:#f92672">=&amp;gt;&lt;/span> &lt;span style="color:#111">current_note&lt;/span> &lt;span style="color:#f92672">&amp;lt;=&lt;/span> &lt;span style="color:#111">C5&lt;/span>&lt;span style="color:#111">;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">end&lt;/span> &lt;span style="color:#00a8c8">case&lt;/span>&lt;span style="color:#111">;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">-- Note duration counter&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">if&lt;/span> &lt;span style="color:#111">cnt&lt;/span> &lt;span style="color:#f92672">&amp;lt;&lt;/span> &lt;span style="color:#ae81ff">15&lt;/span>&lt;span style="color:#111">_000_000&lt;/span> &lt;span style="color:#00a8c8">then&lt;/span> &lt;span style="color:#75715e">-- ~3 seconds at 5 MHz&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#111">cnt&lt;/span> &lt;span style="color:#f92672">&amp;lt;=&lt;/span> &lt;span style="color:#111">cnt&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>&lt;span style="color:#111">;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">else&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#111">cnt&lt;/span> &lt;span style="color:#f92672">&amp;lt;=&lt;/span> &lt;span style="color:#111">(&lt;/span>&lt;span style="color:#00a8c8">others&lt;/span> &lt;span style="color:#f92672">=&amp;gt;&lt;/span> &lt;span style="color:#d88200">&amp;#39;0&amp;#39;&lt;/span>&lt;span style="color:#111">);&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#111">state&lt;/span> &lt;span style="color:#f92672">&amp;lt;=&lt;/span> &lt;span style="color:#111">state&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>&lt;span style="color:#111">;&lt;/span> &lt;span style="color:#75715e">-- Next note&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">end&lt;/span> &lt;span style="color:#00a8c8">if&lt;/span>&lt;span style="color:#111">;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">-- Frequency generator&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">if&lt;/span> &lt;span style="color:#111">clk_div2&lt;/span> &lt;span style="color:#f92672">&amp;lt;&lt;/span> &lt;span style="color:#111">current_note&lt;/span> &lt;span style="color:#00a8c8">then&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#111">clk_div2&lt;/span> &lt;span style="color:#f92672">&amp;lt;=&lt;/span> &lt;span style="color:#111">clk_div2&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#ae81ff">1&lt;/span>&lt;span style="color:#111">;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">else&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#111">clk_div2&lt;/span> &lt;span style="color:#f92672">&amp;lt;=&lt;/span> &lt;span style="color:#111">(&lt;/span>&lt;span style="color:#00a8c8">others&lt;/span> &lt;span style="color:#f92672">=&amp;gt;&lt;/span> &lt;span style="color:#d88200">&amp;#39;0&amp;#39;&lt;/span>&lt;span style="color:#111">);&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#111">out_bit_tmp&lt;/span> &lt;span style="color:#f92672">&amp;lt;=&lt;/span> &lt;span style="color:#00a8c8">not&lt;/span> &lt;span style="color:#111">out_bit_tmp&lt;/span>&lt;span style="color:#111">;&lt;/span> &lt;span style="color:#75715e">-- Toggle buzzer&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">end&lt;/span> &lt;span style="color:#00a8c8">if&lt;/span>&lt;span style="color:#111">;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">end&lt;/span> &lt;span style="color:#00a8c8">if&lt;/span>&lt;span style="color:#111">;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">end&lt;/span> &lt;span style="color:#00a8c8">if&lt;/span>&lt;span style="color:#111">;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#00a8c8">end&lt;/span> &lt;span style="color:#00a8c8">process&lt;/span>&lt;span style="color:#111">;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a8c8">end&lt;/span> &lt;span style="color:#75af00">Behavioral&lt;/span>&lt;span style="color:#111">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>Code Explanation :&lt;/strong>&lt;br>
The VHDL code above generates a square wave for a passive buzzer using an FPGA. A &lt;strong>clock prescaler&lt;/strong> reduces the 50 MHz input to 5 MHz. A &lt;strong>state machine&lt;/strong> cycles through eight musical notes (C5–C6), each defined by a fixed counter value. A &lt;strong>duration counter&lt;/strong> holds each note for ~3 seconds before advancing to the next. A &lt;strong>frequency counter&lt;/strong> toggles the buzzer output (&lt;code>out_bit&lt;/code>) at the note’s frequency: when the counter reaches the note’s value (e.g., 4780 for C5), it resets and flips the output. The system resets via an active-low &lt;code>rst&lt;/code> signal, initializing all counters and states. The design uses behavioral synthesis, with a single &lt;code>process&lt;/code> handling clock edges and state transitions. Each note’s frequency is calculated using the formula fn​=2Nfc​​, where N is the counter value.&lt;/p>
&lt;h2 id="step-3-hardware-setup">&lt;strong>Step 3: Hardware Setup&lt;/strong>&lt;/h2>
&lt;p>I discovered that there are four clock inputs on the schematic, so I assigned CLK3 (PIN_92).&lt;/p>
&lt;p>&lt;img src="https://goiw111.github.io/images/N_2_1.png" alt="N_2_1">&lt;/p>
&lt;p>and the builtin buzzer is connected to the PIN_94 as output as shown there.&lt;/p>
&lt;p>&lt;img src="https://goiw111.github.io/images/N_2_2.png" alt="N_2_2">&lt;/p>
&lt;p>and the fourth button (PIN_67) will be connected to the reset input.&lt;/p>
&lt;p>&lt;img src="https://goiw111.github.io/images/N_2_3.png" alt="N_2_3">&lt;/p>
&lt;h3 id="fpga-pin-connections">&lt;strong>FPGA Pin Connections&lt;/strong>&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>FPGA Pin&lt;/th>
&lt;th>Component&lt;/th>
&lt;th>Notes&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;strong>PIN_92&lt;/strong>&lt;/td>
&lt;td>50 MHz Clock&lt;/td>
&lt;td>Onboard oscillator.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>PIN_94&lt;/strong>&lt;/td>
&lt;td>Buzzer&lt;/td>
&lt;td>Connect to a builtin buzzer.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>PIN_67&lt;/strong>&lt;/td>
&lt;td>Reset Button&lt;/td>
&lt;td>Active-low (pulled up to 3.3V).&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Pin Assignment Using &lt;code>.qsf&lt;/code> File&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-Tcl" data-lang="Tcl">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#111">set_global_assignment&lt;/span> &lt;span style="color:#f92672">-&lt;/span>name FAMILY Cyclone
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#111">set_global_assignment&lt;/span> &lt;span style="color:#f92672">-&lt;/span>name DEVICE EP1C3T144C8
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#111">set_global_assignment&lt;/span> &lt;span style="color:#f92672">-&lt;/span>name TOP_LEVEL_ENTITY buzzer
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#111">set_global_assignment&lt;/span> &lt;span style="color:#f92672">-&lt;/span>name ORIGINAL_QUARTUS_VERSION &lt;span style="color:#d88200">&amp;#34;13.0 SP1&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#111">set_global_assignment&lt;/span> &lt;span style="color:#f92672">-&lt;/span>name PROJECT_CREATION_TIME_DATE &lt;span style="color:#d88200">&amp;#34;23:28:34 APRIL 04, 2025&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#111">set_global_assignment&lt;/span> &lt;span style="color:#f92672">-&lt;/span>name LAST_QUARTUS_VERSION &lt;span style="color:#d88200">&amp;#34;13.0 SP1&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#111">set_global_assignment&lt;/span> &lt;span style="color:#f92672">-&lt;/span>name PROJECT_OUTPUT_DIRECTORY output_files
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#111">set_global_assignment&lt;/span> &lt;span style="color:#f92672">-&lt;/span>name ERROR_CHECK_FREQUENCY_DIVISOR &lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#111">set_global_assignment&lt;/span> &lt;span style="color:#f92672">-&lt;/span>name MIN_CORE_JUNCTION_TEMP &lt;span style="color:#ae81ff">0&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#111">set_global_assignment&lt;/span> &lt;span style="color:#f92672">-&lt;/span>name MAX_CORE_JUNCTION_TEMP &lt;span style="color:#ae81ff">85&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#111">set_global_assignment&lt;/span> &lt;span style="color:#f92672">-&lt;/span>name VHDL_FILE test_2.vhd
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Assembler Assignments
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># =====================
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>&lt;span style="color:#111">set_global_assignment&lt;/span> &lt;span style="color:#f92672">-&lt;/span>name AUTO_RESTART_CONFIGURATION OFF
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#111">set_global_assignment&lt;/span> &lt;span style="color:#f92672">-&lt;/span>name RESERVE_ALL_UNUSED_PINS &lt;span style="color:#d88200">&amp;#34;AS INPUT TRI-STATED&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#111">set_global_assignment&lt;/span> &lt;span style="color:#f92672">-&lt;/span>name STRATIX_DEVICE_IO_STANDARD &lt;span style="color:#d88200">&amp;#34;3.3-V LVTTL&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#111">set_global_assignment&lt;/span> &lt;span style="color:#f92672">-&lt;/span>name LL_ROOT_REGION ON &lt;span style="color:#f92672">-&lt;/span>section_id &lt;span style="color:#d88200">&amp;#34;Root Region&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#111">set_global_assignment&lt;/span> &lt;span style="color:#f92672">-&lt;/span>name LL_MEMBER_STATE LOCKED &lt;span style="color:#f92672">-&lt;/span>section_id &lt;span style="color:#d88200">&amp;#34;Root Region&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#111">set_global_assignment&lt;/span> &lt;span style="color:#f92672">-&lt;/span>name DEVICE_FILTER_PIN_COUNT &lt;span style="color:#ae81ff">144&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#111">set_location_assignment&lt;/span> PIN_92 &lt;span style="color:#f92672">-&lt;/span>to CLK
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#111">set_location_assignment&lt;/span> PIN_94 &lt;span style="color:#f92672">-&lt;/span>to out_bit
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#111">set_location_assignment&lt;/span> PIN_67 &lt;span style="color:#f92672">-&lt;/span>to rst
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="step-4-program-the-fpga">&lt;strong>Step 4: Program the FPGA&lt;/strong>&lt;/h2>
&lt;p>Compile the design and program the FPGA via JTAG using the generated &lt;code>.sof&lt;/code> file.&lt;/p>
&lt;p>&lt;img src="https://goiw111.github.io/images/N_2_4.png" alt="N_2_4">&lt;/p>
&lt;h3 id="conclusion-choose-your-fpga-wisely">Conclusion: Choose Your FPGA Wisely&lt;/h3>
&lt;p>While this project was a valuable learning experience, I strongly advise against using obscure, outdated FPGAs like the Cyclone EP1C3T144C8. The challenges I faced highlight several key issues:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>Outdated Tools&lt;/strong> : Quartus II 13.0 is outdated, lacking modern features and support. Modern alternatives like Quartus Prime Lite offer free, updated software with improved debugging tools and simulation capabilities.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Limited Documentation&lt;/strong> : Chinese-only documentation can be a significant barrier. Modern FPGA boards come with comprehensive English datasheets and active community support, making troubleshooting and learning much easier.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Incomplete Schematics&lt;/strong> : The lack of schematics and pinout information made hardware setup difficult. Contemporary FPGA development boards provide detailed documentation, ensuring a smoother integration process.&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>Legacy hardware certainly teaches resilience and problem-solving skills, but modern FPGAs offer significant advantages in terms of ease of use, support, and long-term sustainability. Investing in a well-documented, widely supported FPGA platform will save time, reduce frustration, and enhance your overall project experience. Choose wisely to ensure a successful and enjoyable development journey!&lt;/p></description></item><item><title>From Obsidian Notes to Hugo Blog Posts. My Automated Publishing Workflow</title><link>https://goiw111.github.io/posts/n_1/</link><pubDate>Sat, 29 Mar 2025 00:00:00 +0000</pubDate><guid>https://goiw111.github.io/posts/n_1/</guid><description>&lt;p>As a master’s student, I rely on Obsidian for organizing my research notes, ideas, and resources—its graph view and local-first approach make it perfect for long-term knowledge management. But when I want to share polished articles, I use Hugo, a fast and flexible static site generator.&lt;/p>
&lt;p>The problem? Manually converting Obsidian notes into Hugo-ready Markdown was tedious. I needed a way to:&lt;/p>
&lt;ul>
&lt;li>Convert &lt;code>[[wikilinks]] → [Markdown links](/posts/slug)&lt;/code>&lt;/li>
&lt;li>Transform &lt;code>![[image.png]] → ![](/images/image.png)&lt;/code>and copy images to /static/images&lt;/li>
&lt;li>Auto-generate title and date in front matter while preserving existing YAML
So, I built an Obsidian plugin to automate this process.&lt;/li>
&lt;/ul>
&lt;p>Here’s how it works, step by step.&lt;/p>
&lt;p>Create a GitHub repository&lt;/p>
&lt;ul>
&lt;li>Go to GitHub&lt;/li>
&lt;li>Create a new public repository named username.github.io, where username is your GitHub username. In my case, this was goiw111.github.io.&lt;/li>
&lt;/ul>
&lt;p>Step 2: Setting Up Your Hugo Blog&lt;/p>
&lt;ol>
&lt;li>Install Hugo
macOS/Linux:&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>brew install hugo # macOS
sudo apt-get install hugo # Ubuntu/Debian
&lt;/code>&lt;/pre>&lt;p>For other operating systems, please refer to &lt;a href="https://gohugo.io/installation/">Hugo’s installation documentation.&lt;/a>&lt;/p>
&lt;ol start="2">
&lt;li>Create a New Hugo Site&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>hugo new site username.github.io &amp;amp;&amp;amp; cd username
&lt;/code>&lt;/pre>&lt;p>This generates:&lt;/p>
&lt;pre tabindex="0">&lt;code>my_blog/
├── archetypes/
├── content/ # Your posts go here
├── static/ # Images/assets
└── config.toml # Site settings
&lt;/code>&lt;/pre>&lt;ol start="3">
&lt;li>Add a Theme
Example (using Stack):&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>git init
git submodule add https://github.com/CaiJimmy/hugo-theme-stack themes/stack
&lt;/code>&lt;/pre>&lt;p>This creates/modifies:&lt;/p>
&lt;pre tabindex="0">&lt;code>my_blog/
├── .gitmodules # &amp;lt;-- New file with submodule config
└── themes/stack # &amp;lt;-- Cloned theme
&lt;/code>&lt;/pre>&lt;ol start="4">
&lt;li>Verify .gitmodules File
The file should contain:&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-ini" data-lang="ini">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a8c8">[submodule &amp;#34;themes/stack&amp;#34;]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75af00">path&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#d88200">themes/stack
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#d88200"> url = https://github.com/CaiJimmy/hugo-theme-stack.git&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Configure hugo.toml:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-toml" data-lang="toml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75af00">theme&lt;/span> &lt;span style="color:#111">=&lt;/span> &lt;span style="color:#d88200">&amp;#34;stack&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75af00">baseURL&lt;/span> &lt;span style="color:#111">=&lt;/span> &lt;span style="color:#d88200">&amp;#34;https://yourdomain.com&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75af00">languageCode&lt;/span> &lt;span style="color:#111">=&lt;/span> &lt;span style="color:#d88200">&amp;#34;en-us&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75af00">paginate&lt;/span> &lt;span style="color:#111">=&lt;/span> &lt;span style="color:#ae81ff">5&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#111">[&lt;/span>&lt;span style="color:#75af00">params&lt;/span>&lt;span style="color:#111">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75af00">title&lt;/span> &lt;span style="color:#111">=&lt;/span> &lt;span style="color:#d88200">&amp;#34;My Blog&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75af00">description&lt;/span> &lt;span style="color:#111">=&lt;/span> &lt;span style="color:#d88200">&amp;#34;Thoughts on tech and life&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#111">....&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="5">
&lt;li>Folder Structure for Obsidian Export
Ensure these directories exist:&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>mkdir -p content/posts # Where notes will export to
mkdir -p static/images # Where images will copy to
&lt;/code>&lt;/pre>&lt;ol start="6">
&lt;li>Test Locally&lt;/li>
&lt;/ol>
&lt;pre tabindex="0">&lt;code>hugo server -D
&lt;/code>&lt;/pre>&lt;p>Visit http://localhost:1313 to see your site.&lt;/p>
&lt;p>&lt;strong>step 3 : Set up GitHub Actions&lt;/strong>
Once your changes are pushed to GitHub, you need to make some adjustments to the settings page. In your GitHub repository, navigate to Settings &amp;gt; Pages.&lt;/p>
&lt;p>Under Build and Deployment, update the source from Deploy from a branch to GitHub Action, as shown in the screenshot below.&lt;/p>
&lt;p>&lt;img src="https://goiw111.github.io/images/github-settings.png" alt="github-settings">&lt;/p>
&lt;p>To automatically build and deploy your site to GitHub pages, you need to set up a workflow for GitHub Actions. In your local repository, create a new folder called .github/workflows and add hugo.yaml file with the following contents:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Sample workflow for building and deploying a Hugo site to GitHub Pages&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">name&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">Deploy Hugo site to Pages&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">on&lt;/span>&lt;span style="color:#111">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e"># Runs on pushes targeting the default branch&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">push&lt;/span>&lt;span style="color:#111">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">branches&lt;/span>&lt;span style="color:#111">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">main&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e"># Allows you to run this workflow manually from the Actions tab&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">workflow_dispatch&lt;/span>&lt;span style="color:#111">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Sets permissions of the GITHUB_TOKEN to allow deployment to GitHub Pages&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">permissions&lt;/span>&lt;span style="color:#111">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">contents&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">read&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">pages&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">write&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">id-token&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">write&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Allow only one concurrent deployment, skipping runs queued between the run in-progress and latest queued.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># However, do NOT cancel in-progress runs as we want to allow these production deployments to complete.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">concurrency&lt;/span>&lt;span style="color:#111">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">group&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#d88200">&amp;#34;pages&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">cancel-in-progress&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#00a8c8">false&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Default to bash&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">defaults&lt;/span>&lt;span style="color:#111">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">run&lt;/span>&lt;span style="color:#111">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">shell&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">bash&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">jobs&lt;/span>&lt;span style="color:#111">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e"># Build job&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">build&lt;/span>&lt;span style="color:#111">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">runs-on&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">ubuntu-latest&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">env&lt;/span>&lt;span style="color:#111">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">HUGO_VERSION&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">0.145.0&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">HUGO_ENVIRONMENT&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">production&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">TZ&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">America/Los_Angeles&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">steps&lt;/span>&lt;span style="color:#111">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">Install Hugo CLI&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">run&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#111">|&lt;/span>&lt;span style="color:#d88200">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#d88200"> wget -O ${{ runner.temp }}/hugo.deb https://github.com/gohugoio/hugo/releases/download/v${HUGO_VERSION}/hugo_extended_${HUGO_VERSION}_linux-amd64.deb \
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#d88200"> &amp;amp;&amp;amp; sudo dpkg -i ${{ runner.temp }}/hugo.deb&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">Install Dart Sass&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">run&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">sudo snap install dart-sass&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">Checkout&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">uses&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">actions/checkout@v4&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">with&lt;/span>&lt;span style="color:#111">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">submodules&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">recursive&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">fetch-depth&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">Setup Pages&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">id&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">pages&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">uses&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">actions/configure-pages@v5&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">Install Node.js dependencies&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">run&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#d88200">&amp;#34;[[ -f package-lock.json || -f npm-shrinkwrap.json ]] &amp;amp;&amp;amp; npm ci || true&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">Cache Restore&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">id&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">cache-restore&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">uses&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">actions/cache/restore@v4&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">with&lt;/span>&lt;span style="color:#111">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">path&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#111">|&lt;/span>&lt;span style="color:#d88200">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#d88200"> ${{ runner.temp }}/hugo_cache&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">key&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">hugo-${{ github.run_id }}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">restore-keys&lt;/span>&lt;span style="color:#111">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#ae81ff">hugo-&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">Build with Hugo&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">run&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#111">|&lt;/span>&lt;span style="color:#d88200">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#d88200"> hugo \&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --&lt;span style="color:#ae81ff">cleanDestinationDir \&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --&lt;span style="color:#ae81ff">gc \&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --&lt;span style="color:#ae81ff">minify \&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --&lt;span style="color:#ae81ff">baseURL &amp;#34;${{ steps.pages.outputs.base_url }}/&amp;#34; \&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --&lt;span style="color:#ae81ff">cacheDir &amp;#34;${{ runner.temp }}/hugo_cache&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">Cache Save&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">id&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">cache-save&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">uses&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">actions/cache/save@v4&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">with&lt;/span>&lt;span style="color:#111">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">path&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#111">|&lt;/span>&lt;span style="color:#d88200">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#d88200"> ${{ runner.temp }}/hugo_cache&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">key&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">${{ steps.cache-restore.outputs.cache-primary-key }}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">Upload artifact&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">uses&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">actions/upload-pages-artifact@v3&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">with&lt;/span>&lt;span style="color:#111">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">path&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">./public&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e"># Deployment job&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">deploy&lt;/span>&lt;span style="color:#111">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">environment&lt;/span>&lt;span style="color:#111">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">name&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">github-pages&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">url&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">${{ steps.deployment.outputs.page_url }}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">runs-on&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">ubuntu-latest&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">needs&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">build&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">steps&lt;/span>&lt;span style="color:#111">:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#f92672">name&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">Deploy to GitHub Pages&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">id&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">deployment&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">uses&lt;/span>&lt;span style="color:#111">:&lt;/span> &lt;span style="color:#ae81ff">actions/deploy-pages@v4&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The above content was taken from Hugo’s documentation. For more information, please refer to &lt;a href="https://gohugo.io/hosting-and-deployment/hosting-on-github/">Host on GitHub Pages.&lt;/a>&lt;/p>
&lt;p>&lt;strong>step 4 : Connect to Obsidian Export Plugin&lt;/strong>&lt;/p>
&lt;p>firs clone the plugin to you Vault plugin folder (/path/to/Obsidian Vault/.obsidian/plugins/)
from this repo &lt;a href="https://github.com/goiw111/hugo_exporter">hugo_exporter&lt;/a>&lt;/p>
&lt;pre tabindex="0">&lt;code>cd your-obsidian-vault/.obsidian/plugins/
git clone https://github.com/goiw111/hugo_exporter.git
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>&lt;strong>Enable&lt;/strong> in Obsidian:&lt;/li>
&lt;/ul>
&lt;pre tabindex="0">&lt;code>Settings → Community Plugins → Enable &amp;#34;Hugo Export&amp;#34;
&lt;/code>&lt;/pre>&lt;p>In the plugin settings (Obsidian → Hugo Export):&lt;/p>
&lt;pre tabindex="0">&lt;code>Posts Directory: /full/path/to/my_blog/content/posts
Images Directory: /full/path/to/my_blog/static/images
&lt;/code>&lt;/pre>&lt;p>Open note → Ctrl+P → &amp;ldquo;Export Active Note to Hugo&amp;rdquo;&lt;/p>
&lt;p>Verify Exports&lt;/p>
&lt;pre tabindex="0">&lt;code>cd your-hugo-folder
hugo server -D # Check at http://localhost:1313
&lt;/code>&lt;/pre>&lt;ol start="8">
&lt;li>(Optional) Deployment Setup
Create a deploy.sh script:&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#!/bin/sh
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>hugo --minify
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#111">cd&lt;/span> public &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> git add . &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> git commit -m &lt;span style="color:#d88200">&amp;#34;Update&amp;#34;&lt;/span> &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> git push
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>now run:&lt;/p>
&lt;pre tabindex="0">&lt;code>chmod +x deploy.sh
./deploy.sh
&lt;/code>&lt;/pre>&lt;p>Now your Hugo blog is ready!&lt;/p></description></item></channel></rss>